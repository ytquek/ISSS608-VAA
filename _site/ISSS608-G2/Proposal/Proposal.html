<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Group 2">
<meta name="dcterms.date" content="2024-05-26">

<title>ISSS608-VAA - Proposal</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">ISSS608-VAA</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-in-class-exercise" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">In class Exercise</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-in-class-exercise">    
        <li>
    <a class="dropdown-item" href="../../In_class_ex/In-class_Ex01.html" rel="" target="">
 <span class="dropdown-text">In Class Exercise 1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../In_class_ex/In-class_Ex02.html" rel="" target="">
 <span class="dropdown-text">In Class Exercise 2</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../In_class_ex/In-class_Ex4.html" rel="" target="">
 <span class="dropdown-text">In Class Exercise 4</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../In_class_ex/In-class_ex5.html" rel="" target="">
 <span class="dropdown-text">In Class Exercise 5</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../In_class_ex/In-class_ex6_1.html" rel="" target="">
 <span class="dropdown-text">In Class Exercise 6</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-hands-on-exercise" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Hands on Exercise</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-hands-on-exercise">    
        <li>
    <a class="dropdown-item" href="../../In_class_ex/hands_on_ex1.html" rel="" target="">
 <span class="dropdown-text">Hands On Exercise 1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../In_class_ex/hands_on_ex1.html" rel="" target="">
 <span class="dropdown-text">Hands On Exercise 2</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../In_class_ex/hands-on_ex3.html" rel="" target="">
 <span class="dropdown-text">Hands On Exercise 3</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../In_class_ex/hands-on_ex3_2.html" rel="" target="">
 <span class="dropdown-text">Hands On Exercise 3 Part 2</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../In_class_ex/hands-on_ex4.html" rel="" target="">
 <span class="dropdown-text">Hands On Exercise 4 Part 1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../In_class_ex/hands-on_ex4_2.html" rel="" target="">
 <span class="dropdown-text">Hands On Exercise 4 Part 2</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../In_class_ex/hands-on_ex4_3.html" rel="" target="">
 <span class="dropdown-text">Hands On Exercise 4 Part 3</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../In_class_ex/Hands-on_Ex05.html" rel="" target="">
 <span class="dropdown-text">Hands On Exercise 5</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../In_class_ex/Hands-on_Ex06.html" rel="" target="">
 <span class="dropdown-text">Hands On Exercise 6</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-take-home-exercise" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Take Home Exercise</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-take-home-exercise">    
        <li>
    <a class="dropdown-item" href="../../take_home_ex/take_home_ex1.html" rel="" target="">
 <span class="dropdown-text">Take Home Exercise 1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../take_home_ex/take_home_ex2.html" rel="" target="">
 <span class="dropdown-text">Take Home Exercise 2</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../take_home_ex/take_home_ex3.html" rel="" target="">
 <span class="dropdown-text">Take Home Exercise 3</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <div class="quarto-navbar-tools ms-auto">
    <a href="https://personal.yout.ing" rel="" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-linkedin"></i></a>
    <a href="https://github.com/ytquek" rel="" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-github"></i></a>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#project-proposal-visual-analytics-of-corporate-structures-and-influence-in-oceanuss-commercial-fishing-industry" id="toc-project-proposal-visual-analytics-of-corporate-structures-and-influence-in-oceanuss-commercial-fishing-industry" class="nav-link active" data-scroll-target="#project-proposal-visual-analytics-of-corporate-structures-and-influence-in-oceanuss-commercial-fishing-industry"><strong>Project Proposal: Visual Analytics of Corporate Structures and Influence in Oceanusâ€™s Commercial Fishing Industry</strong></a>
  <ul class="collapse">
  <li><a href="#project-topic" id="toc-project-topic" class="nav-link" data-scroll-target="#project-topic"><strong>Project Topic</strong></a></li>
  <li><a href="#project-scope" id="toc-project-scope" class="nav-link" data-scroll-target="#project-scope"><strong>Project Scope</strong></a></li>
  <li><a href="#tasks-and-questions" id="toc-tasks-and-questions" class="nav-link" data-scroll-target="#tasks-and-questions"><strong>Tasks and Questions</strong></a></li>
  <li><a href="#methodology" id="toc-methodology" class="nav-link" data-scroll-target="#methodology"><strong>Methodology</strong></a></li>
  <li><a href="#r-packages-to-use" id="toc-r-packages-to-use" class="nav-link" data-scroll-target="#r-packages-to-use"><strong>R Packages to Use</strong></a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Proposal</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Group 2 </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">May 26, 2024</p>
    </div>
  </div>
  
    <div>
    <div class="quarto-title-meta-heading">Modified</div>
    <div class="quarto-title-meta-contents">
      <p class="date-modified">May 26, 2024</p>
    </div>
  </div>
    
  </div>
  

</header>

<section id="project-proposal-visual-analytics-of-corporate-structures-and-influence-in-oceanuss-commercial-fishing-industry" class="level1">
<h1><strong>Project Proposal: Visual Analytics of Corporate Structures and Influence in Oceanusâ€™s Commercial Fishing Industry</strong></h1>
<section id="project-topic" class="level2">
<h2 class="anchored" data-anchor-id="project-topic"><strong>Project Topic</strong></h2>
<p>The project will focus on developing visual analytics tools using R to analyze and visualize changes in corporate structures and influence within the commercial fishing industry in Oceanus. The goal is to provide FishEye International with insights into the dynamic business environment, especially in light of the recent illegal fishing activities by SouthSeafood Express Corp.</p>
</section>
<section id="project-scope" class="level2">
<h2 class="anchored" data-anchor-id="project-scope"><strong>Project Scope</strong></h2>
<ol type="1">
<li><p><strong>Visualization of Temporal Corporate Structures:</strong></p>
<ul>
<li><p>Develop visual tools to highlight changes in corporate structures over time.</p></li>
<li><p>Focus on shareholder and ownership relationships.</p></li>
<li><p>Track the influence of key individuals and entities within the business network.</p></li>
</ul></li>
<li><p><strong>Analysis of Business Transactions:</strong></p>
<ul>
<li><p>Identify and visualize typical and atypical business transactions such as mergers, acquisitions, and investments.</p></li>
<li><p>Infer motivations behind changes in business activities.</p></li>
<li><p>Highlight how these transactions impact corporate influence and market dynamics.</p></li>
</ul></li>
<li><p><strong>Impact of SouthSeafood Express Corpâ€™s Legal Troubles:</strong></p>
<ul>
<li><p>Visualize the network associated with SouthSeafood Express Corp.</p></li>
<li><p>Analyze changes in this network following the corporationâ€™s closure due to illegal activities.</p></li>
<li><p>Identify companies that benefited from SouthSeafood Express Corpâ€™s downfall.</p></li>
<li><p>Detect other suspicious transactions potentially related to illegal fishing.</p></li>
</ul></li>
</ol>
</section>
<section id="tasks-and-questions" class="level2">
<h2 class="anchored" data-anchor-id="tasks-and-questions"><strong>Tasks and Questions</strong></h2>
<ol type="1">
<li><p><strong>Temporal Patterns in Corporate Structures:</strong></p>
<ul>
<li><p>Create visualizations that illustrate changes in corporate structures over time.</p></li>
<li><p>Highlight the most active individuals and businesses within the network.</p></li>
<li><p>Example: Timeline visualizations showing changes in ownership and shareholder relationships.</p></li>
</ul></li>
<li><p><strong>Typical and Atypical Business Transactions:</strong></p>
<ul>
<li><p>Use visual analytics to display examples of mergers, acquisitions, and other significant transactions.</p></li>
<li><p>Infer motivations behind these transactions based on visual patterns.</p></li>
<li><p>Example: Network diagrams highlighting new connections and changes in existing relationships.</p></li>
<li><p>Example: Usage of widyr package to â€˜castsâ€™ a tidy dataset into a wide matrix before performing a correlation operation on it.</p></li>
</ul></li>
<li><p><strong>Influence Dynamics:</strong></p>
<ul>
<li><p>Develop a visual approach to examine how the influence of a company changes over time.</p></li>
<li><p>Infer ownership or influence within the network.</p></li>
<li><p>Example: Influence maps showing the rise and fall of key players in the industry. This is done through the usage of **tidygraph to create nodes and edges data appropriate for map visualisation</p></li>
</ul></li>
<li><p><strong>Impact of SouthSeafood Express Corpâ€™s Closure:</strong></p>
<ul>
<li><p>Visualize the business network of SouthSeafood Express Corp before and after its closure.</p></li>
<li><p>Identify companies that gained from its legal troubles.</p></li>
<li><p>Detect suspicious transactions that might indicate further illegal activities.</p></li>
<li><p>Example: Comparative network analysis showing shifts in influence and ownership.</p></li>
</ul></li>
</ol>
</section>
<section id="methodology" class="level2">
<h2 class="anchored" data-anchor-id="methodology"><strong>Methodology</strong></h2>
<ul>
<li><p><strong>Data Collection:</strong></p>
<ul>
<li><p>Use company records, ownership, shareholder information, and transaction data.</p></li>
<li><p>Ensure data is cleaned and structured for further analysis.</p></li>
</ul></li>
<li><p><strong>Visualization Tools:</strong></p>
<ul>
<li><p>Utilize R packages such as <strong><code>ggplot2</code></strong> for general plotting and <strong><code>ggraph</code></strong> for network visualization.</p></li>
<li><p>Employ <strong><code>igraph</code></strong> for network analysis.</p></li>
<li><p>Use <strong><code>tidyverse</code></strong> for data manipulation and <strong><code>lubridate</code></strong> for handling dates and times.</p></li>
</ul></li>
<li><p><strong>Analysis Techniques:</strong></p>
<ul>
<li><p>Apply network analysis to detect influential individuals and companies using <strong><code>igraph</code></strong>.</p></li>
<li><p>Use clustering and pattern recognition with <strong><code>dplyr</code></strong> and <strong><code>tidyr</code></strong> to identify typical and atypical transactions.</p></li>
<li><p>Leverage temporal analysis to track changes and trends over time with <strong><code>lubridate</code></strong>.</p></li>
</ul></li>
</ul>
</section>
<section id="r-packages-to-use" class="level2">
<h2 class="anchored" data-anchor-id="r-packages-to-use"><strong>R Packages to Use</strong></h2>
<ol type="1">
<li><p><strong>Data Manipulation:</strong></p>
<ul>
<li><p><strong><code>dplyr</code></strong>: For data manipulation.</p></li>
<li><p><strong><code>tidyr</code></strong>: For tidying data and separating columns.</p></li>
<li><p><strong><code>readr</code></strong>: For reading data files.</p></li>
<li><p><strong><code>lubridate</code></strong>: For date and time manipulation.</p></li>
</ul></li>
<li><p><strong>Visualization:</strong></p>
<ul>
<li><p><strong><code>ggplot2</code></strong>: For creating static visualizations.</p></li>
<li><p><strong><code>ggraph</code></strong>: For creating network visualizations.</p></li>
<li><p><strong><code>plotly</code></strong>: For creating interactive visualizations.</p></li>
<li><p><strong><code>shiny</code></strong>: For developing interactive web applications.</p></li>
</ul></li>
<li><p><strong>Network Analysis:</strong></p>
<ul>
<li><strong><code>igraph</code></strong>: For creating and analyzing network graphs.</li>
<li>** test</li>
</ul></li>
<li><p><strong>Text Mining (if needed):</strong></p>
<ul>
<li><p><strong><code>tidytext</code></strong>: For text mining and tokenization.</p></li>
<li><p><strong><code>tm</code></strong>: For text mining.</p></li>
</ul></li>
</ol>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "î§‹";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>